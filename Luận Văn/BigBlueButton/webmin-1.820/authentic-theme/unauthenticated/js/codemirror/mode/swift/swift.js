(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(c){function a(f){return/^\s*(.*?)\s*$/.exec(f)[1]}var d=[" ","\\+","\\-","\\(","\\)","\\*","/",":","\\?","\\<","\\>"," ","\\."];var e=new RegExp(d.join("|"),"g");function b(k,o){var h=-1,m=1;var n=k.split(e);for(var l=0;l<n.length;l++){for(var g=1;g<=n[l].length;g++){if(m==o){h=l}m++}m++}var f=["",""];if(o==0){f[1]=n[0];f[0]=null}else{f[1]=n[h];f[0]=n[h-1]}return f}c.defineMode("swift",function(){var i=["var","let","class","deinit","enum","extension","func","import","init","let","protocol","static","struct","subscript","typealias","var","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","unowned(safe)","unowned(unsafe)","weak","willSet"];var f=["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil","null","this","super"];var j=["String","bool","int","string","double","Double","Int","Float","float","public","private","extension"];var o=["0","1","2","3","4","5","6","7","8","9"];var g=["+","-","/","*","%","=","|","&","<",">"];var l=[";",",",".","(",")","{","}","[","]"];var n=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/;var m=/^[_A-Za-z$][_A-Za-z$0-9]*/;var k=/^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/;var h=/^(\/{3}|\/)/;return{startState:function(){return{prev:false,string:false,escape:false,inner:false,comment:false,num_left:0,num_right:0,doubleString:false,singleString:false}},token:function(u,t){if(u.eatSpace()){return null}var s=u.next();if(t.string){if(t.escape){t.escape=false;return"string"}else{if((s=='"'&&(t.doubleString&&!t.singleString)||(s=="'"&&(!t.doubleString&&t.singleString)))&&!t.escape){t.string=false;t.doubleString=false;t.singleString=false;return"string"}else{if(s=="\\"&&u.peek()=="("){t.inner=true;t.string=false;return"keyword"}else{if(s=="\\"&&u.peek()!="("){t.escape=true;t.string=true;return"string"}else{return"string"}}}}}else{if(t.comment){if(s=="*"&&u.peek()=="/"){t.prev="*";return"comment"}else{if(s=="/"&&t.prev=="*"){t.prev=false;t.comment=false;return"comment"}}return"comment"}else{if(s=="/"){if(u.peek()=="/"){u.skipToEnd();return"comment"}if(u.peek()=="*"){t.comment=true;return"comment"}}if(s=="("&&t.inner){t.num_left++;return null}if(s==")"&&t.inner){t.num_right++;if(t.num_left==t.num_right){t.inner=false;t.string=true}return null}var r=b(u.string,u.pos);var q=r[1];var p=r[0];if(g.indexOf(s+"")>-1){return"operator"}if(l.indexOf(s)>-1){return"punctuation"}if(typeof q!="undefined"){q=a(q);if(typeof p!="undefined"){p=a(p)}if(q.charAt(0)=="#"){return null}if(j.indexOf(q)>-1){return"def"}if(f.indexOf(q)>-1){return"atom"}if(o.indexOf(q)>-1){return"number"}if((o.indexOf(q.charAt(0)+"")>-1||g.indexOf(q.charAt(0)+"")>-1)&&o.indexOf(s)>-1){return"number"}if(i.indexOf(q)>-1||i.indexOf(q.split(e)[0])>-1){return"keyword"}if(i.indexOf(p)>-1){return"def"}}if(s=='"'&&!t.doubleString){t.string=true;t.doubleString=true;return"string"}if(s=="'"&&!t.singleString){t.string=true;t.singleString=true;return"string"}if(s=="("&&t.inner){t.num_left++}if(s==")"&&t.inner){t.num_right++;if(t.num_left==t.num_right){t.inner=false;t.string=true}return null}if(u.match(/^-?[0-9\.]/,false)){if(u.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)||u.match(/^-?\d+\.\d*/)||u.match(/^-?\.\d+/)){if(u.peek()=="."){u.backUp(1)}return"number"}if(u.match(/^-?0x[0-9a-f]+/i)||u.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)||u.match(/^-?0(?![\dx])/i)){return"number"}}if(u.match(h)){if(u.current()!="/"||u.match(/^.*\//,false)){return"string"}else{u.backUp(1)}}if(u.match(n)){return"punctuation"}if(u.match(m)){return"variable"}if(u.match(k)){return"property"}return"variable"}}}}});c.defineMIME("text/x-swift","swift")});