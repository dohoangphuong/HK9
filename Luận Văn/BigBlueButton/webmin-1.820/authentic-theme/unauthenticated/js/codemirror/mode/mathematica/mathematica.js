(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("mathematica",function(j,h){var g="[a-zA-Z\\$][a-zA-Z0-9\\$]*";var k="(?:\\d+)";var e="(?:\\.\\d+|\\d+\\.\\d*|\\d+)";var c="(?:\\.\\w+|\\w+\\.\\w*|\\w+)";var l="(?:`(?:`?"+e+")?)";var b=new RegExp("(?:"+k+"(?:\\^\\^"+c+l+"?(?:\\*\\^[+-]?\\d+)?))");var n=new RegExp("(?:"+e+l+"?(?:\\*\\^[+-]?\\d+)?)");var f=new RegExp("(?:`?)(?:"+g+")(?:`(?:"+g+"))*(?:`?)");function d(q,p){var o;o=q.next();if(o==='"'){p.tokenize=m;return p.tokenize(q,p)}if(o==="("){if(q.eat("*")){p.commentLevel++;p.tokenize=i;return p.tokenize(q,p)}}q.backUp(1);if(q.match(b,true,false)){return"number"}if(q.match(n,true,false)){return"number"}if(q.match(/(?:In|Out)\[[0-9]*\]/,true,false)){return"atom"}if(q.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::usage)/,true,false)){return"meta"}if(q.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::[a-zA-Z\$][a-zA-Z0-9\$]*):?/,true,false)){return"string-2"}if(q.match(/([a-zA-Z\$][a-zA-Z0-9\$]*\s*:)(?:(?:[a-zA-Z\$][a-zA-Z0-9\$]*)|(?:[^:=>~@\^\&\*\)\[\]'\?,\|])).*/,true,false)){return"variable-2"}if(q.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+[a-zA-Z\$][a-zA-Z0-9\$]*/,true,false)){return"variable-2"}if(q.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+/,true,false)){return"variable-2"}if(q.match(/_+[a-zA-Z\$][a-zA-Z0-9\$]*/,true,false)){return"variable-2"}if(q.match(/\\\[[a-zA-Z\$][a-zA-Z0-9\$]*\]/,true,false)){return"variable-3"}if(q.match(/(?:\[|\]|{|}|\(|\))/,true,false)){return"bracket"}if(q.match(/(?:#[a-zA-Z\$][a-zA-Z0-9\$]*|#+[0-9]?)/,true,false)){return"variable-2"}if(q.match(f,true,false)){return"keyword"}if(q.match(/(?:\\|\+|\-|\*|\/|,|;|\.|:|@|~|=|>|<|&|\||_|`|'|\^|\?|!|%)/,true,false)){return"operator"}return"error"}function m(s,q){var p,o=false,r=false;while((p=s.next())!=null){if(p==='"'&&!r){o=true;break}r=!r&&p==="\\"}if(o&&!r){q.tokenize=d}return"string"}function i(r,q){var p,o;while(q.commentLevel>0&&(o=r.next())!=null){if(p==="("&&o==="*"){q.commentLevel++}if(p==="*"&&o===")"){q.commentLevel--}p=o}if(q.commentLevel<=0){q.tokenize=d}return"comment"}return{startState:function(){return{tokenize:d,commentLevel:0}},token:function(p,o){if(p.eatSpace()){return null}return o.tokenize(p,o)},blockCommentStart:"(*",blockCommentEnd:"*)"}});a.defineMIME("text/x-mathematica",{name:"mathematica"})});